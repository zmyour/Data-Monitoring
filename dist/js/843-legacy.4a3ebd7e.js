(self["webpackChunkDataMonitoring"]=self["webpackChunkDataMonitoring"]||[]).push([[843],{6923:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dslfp"},[a("div",{staticClass:"dash_board"},[a("el-tag",{staticStyle:{"background-color":"#86cc890d","border-color":"#86cc89",color:"#86cc89"}},[a("span",[t._v(t._s(t.normalNumber)+" "),a("br"),t._v(" 监控主机数总数")])]),a("el-tag",{staticStyle:{"background-color":"#fef0f0","border-color":"#f56c6c",color:"#f56c6c"}},[a("span",[t._v(t._s(t.errorNumber)+" "),a("br"),t._v(" 监控不可用主机数")])]),a("el-tag",{staticStyle:{"background-color":"#f4f4f5","border-color":"#909399",color:"#909399"}},[a("span",[t._v(t._s(t.serverNumber)+" "),a("br"),t._v(" 监控主机数总数")])]),a("el-tag",{staticStyle:{"background-color":"#f56c6c26","border-color":"#e6a23c",color:"#e6a23c"}},[a("span",[t._v(t._s(t.alertNumber)+" "),a("br"),t._v(" 警报数")])])],1),a("div",[a("el-table",{staticStyle:{width:"100%","border-radius":"5px"},attrs:{"row-class-name":t.tableRowClassName,data:t.dashBoardData}},[a("el-table-column",{attrs:{prop:"clock_time",label:"日期",width:"170"}}),a("el-table-column",{attrs:{prop:"hosts_name",label:"主机","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"name",label:"问题 • 严重性","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.severity)+"-- "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"continued_time",label:"持续时间",width:"120"}}),a("el-table-column",{attrs:{prop:"acknowledged_status",label:"确认",width:"50"}}),a("el-table-column",{attrs:{prop:"tags",label:"标记","show-overflow-tooltip":""}})],1)],1)])},r=[],s={name:"mon_dash_board",data:function(){return{dashBoardData:[],normalNumber:"",errorNumber:"",serverNumber:"",alertNumber:""}},mounted:function(){this.initDashBoardData()},methods:{tableRowClassName:function(t){var e=t.row;return 0==e.severity?"classified-row":1==e.severity?"information-row":2==e.severity?"warning-row":3==e.severity?"average-row":4==e.severity?"high-row":5==e.severity?"disaster-row":""},initDashBoardData:function(){var t=this;this.getRequest("/home/Monitor/mon_dash_board").then((function(e){e&&(console.log(e),t.dashBoardData=e.event_list,t.serverNumber=e.serverNumber,t.normalNumber=e.normalNumber,t.errorNumber=e.errorNumber,t.alertNumber=e.alertNumber)}))}}},o=s,l=a(1001),n=(0,l.Z)(o,i,r,!1,null,null,null),c=n.exports},5673:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filterResource"},[a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群组"},on:{change:t.selectGroup},model:{value:t.filterDynamicData.host_group,callback:function(e){t.$set(t.filterDynamicData,"host_group",e)},expression:"filterDynamicData.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机"},on:{change:t.selectHost},model:{value:t.filterDynamicData.host,callback:function(e){t.$set(t.filterDynamicData,"host",e)},expression:"filterDynamicData.host"}},t._l(t.hostOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.hostid}})})),1),a("el-input",{staticClass:"filterDynamicInput",attrs:{size:"small",placeholder:"ip","suffix-icon":"el-icon-plus"},model:{value:t.filterDynamicData.ip,callback:function(e){t.$set(t.filterDynamicData,"ip",e)},expression:"filterDynamicData.ip"}}),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"监控项"},on:{change:t.selectItem},model:{value:t.filterDynamicData.items,callback:function(e){t.$set(t.filterDynamicData,"items",e)},expression:"filterDynamicData.items"}},t._l(t.itemOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.itemid}})})),1)],1),a("div",{staticClass:"filterDate"},[a("div",{staticClass:"chooseTimeBlock"},[a("el-date-picker",{staticClass:"filterDynamicInput",attrs:{size:"small",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"]},on:{change:t.dynameicDatePicker},model:{value:t.dataPicker,callback:function(e){t.dataPicker=e},expression:"dataPicker"}})],1),a("div",{staticClass:"chooseTimePeriod"},[a("el-select",{staticClass:"filterDynamicInput selectstartDate",attrs:{size:"small",placeholder:"选择起始时间"},on:{change:t.selectStartDate},model:{value:t.startDateValue,callback:function(e){t.startDateValue=e},expression:"startDateValue"}},t._l(t.startDateOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._l(t.dynamicBox,(function(e,i){return a("div",{key:i},[e.type?[a("div",{staticClass:"custo-line-wrap",attrs:{id:e.value}}),a("hr")]:[a("p",[t._v(t._s(e.value))]),a("hr")]],2)}))],2)},r=[],s=(a(4916),a(5306),a(1539),a(4747),a(8309),a(6977),a(9714),a(7605)),o={data:function(){return{startDateOptions:[{value:"15day",label:"15天"},{value:"7day",label:"7天"},{value:"1day",label:"1天"},{value:"12hours",label:"12小时"},{value:"6hours",label:"6小时"},{value:"3hours",label:"3小时"},{value:"1hours",label:"1小时"},{value:"5minute",label:"5分钟"}],startDateValue:"7day",dynamicData:[],dynamicBox:[],groupid:"",hostid:"",itemid:this.$route.query.itemid.replace(/^,+/,"").replace(/,+$/,""),groupOptions:[],hostOptions:[],itemOptions:[],filterDynamicData:{host_group:"",host:"",ip:"",items:""},dataPicker:"",startTime:"",echartsDate:[],addtime:1e4}},mounted:function(){this.initHostList(),this.initGroupList(),this.initItemList(),this.itemid||this.$router.back(-1),this.initDynameic(),this.addsetInterval=setInterval(this.addDynameic,this.addtime)},methods:{selectItem:function(t){var e="";t.forEach((function(t){e+=t+","})),this.$router.replace("/home/monitor/mon_dynamic_data?itemid="+e);var a="";this.itemid=t,a="/itemid/"+this.itemid,this.getHistoryData(a)},selectHost:function(t){var e=this;this.hostid=t,this.hostOptions.forEach((function(a){a.hostid==t&&(e.filterDynamicData.ip=a.ip)})),this.itemOptions=[],this.initItemList()},selectGroup:function(t){this.groupid=t,this.hostOptions=[],this.initHostList()},initItemList:function(){var t=this,e="/home/Monitor/itemselect";e=this.hostid?e+"/hostid/"+this.hostid:e+"/itemid/"+this.itemid,this.getRequest(e).then((function(e){200==e.code?e.data.forEach((function(e){t.itemOptions.push(e)})):t.$message.error(e.error)}))},initHostList:function(){var t=this,e="/home/Monitor/hostselect";this.groupid&&(e=e+"/host_group/"+this.groupid),this.getRequest(e).then((function(e){200==e.code?e.data.forEach((function(e){t.hostOptions.push(e)})):t.$message.error(e.error)}))},initGroupList:function(){var t=this;this.getRequest("/home/Monitor/groupselect").then((function(e){200==e.code?e.data.forEach((function(e){t.groupOptions.push(e)})):t.$message.error(e.error)}))},dynameicDatePicker:function(t){this.startTime=t;var e="",a="",i="",r="";this.startTime.forEach((function(t,i){if("0"==i){var r=t;e="/srartTime/"+new Date(r).getTime()/1e3}else if("1"==i){var s=t;a="/finishTime/"+new Date(s).getTime()/1e3}})),i="/itemid/"+this.itemid,r=i+e+a,this.getHistoryData(r),clearInterval(this.addsetInterval)},addsetInterval:function(){},selectStartDate:function(t){var e="",a="",i="",r=new Date;"15day"==t?r.setDate(r.getDate()-15):"1day"==t?r.setDate(r.getDate()-1):"12hours"==t?r.setHours(r.getHours()-12):"6hours"==t?r.setHours(r.getHours()-6):"3hours"==t?r.setHours(r.getHours()-3):"1hours"==t?r.setHours(r.getHours()-1):"5minute"==t?r.setMinutes(r.getMinutes()-5):r.setDate(r.getDate()-7);var s=r.getFullYear()+"/"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"/"+(r.getDate()+1<10?"0"+r.getDate():r.getDate())+" "+(r.getHours()+1<10?"0"+r.getHours():r.getHours())+":"+(r.getMinutes()+1<10?"0"+r.getMinutes():r.getMinutes())+":"+(r.getSeconds()+1<10?"0"+r.getSeconds():r.getSeconds());e="/srartTime/"+new Date(s).getTime()/1e3,a="/itemid/"+this.itemid,i=e+a,this.getHistoryData(i)},addDynameic:function(){var t=this;this.dynamicData.forEach((function(e,a){t.addHistoryData(e)}))},addHistoryData:function(t){var e=this;this.getRequest("/home/Monitor/mon_dynamic_data/limit/1/itemid/"+t.itemid).then((function(a){if(504!=a.code){var i="";a.forEach((function(a,r){var s=[];a.data.forEach((function(t,e){s.push(t.value)}));var o=0;o=e.initValue(Math.max.apply(Math,s)),a.data.forEach((function(a,r){i=a.value/o,t.itemData[t.itemData.length-1].value[0]!=e.formatData(a.clock,i).value[0]&&(t.itemData.shift(),t.itemData.push(e.formatData(a.clock,i)),e.$nextTick((function(){e.echartsLineModel(t)})))}))}))}else e.$message.error(a.error)}))},initDynameic:function(){var t="/itemid/"+this.itemid;this.getHistoryData(t)},getHistoryData:function(t){var e=this;this.getRequest("/home/Monitor/mon_dynamic_data"+t).then((function(t){if(t){e.dynamicData=[],e.dynamicBox=[];var a="";t.forEach((function(t,i){a=e.idName();var r={type:"",value:""},s={itemName:"",itemData:[],itemBox:[],itemid:"",nowUnit:""},o=[],l=0,n=[];if(200==t.code){t.data.forEach((function(t,e){n.push(t.value)}));var c="",u=0;c=e.initUnit(Math.max.apply(Math,n)),u=e.initValue(Math.max.apply(Math,n)),t.data.forEach((function(t,a){l=t.value/u,o.push(e.formatData(t.clock,l))})),"%"==t.units?s.nowUnit=t.units:""==t.units?s.nowUnit="":"bps"==t.units?s.nowUnit=c+t.units:s.nowUnit=c,s.itemName=t.itemName,s.itemid=t.itemid,s.itemData=o,s.itemBox=a,e.dynamicData.push(s),r.type=!0,r.value=a}else r.type=!1,r.value=t.error;e.dynamicBox.push(r)})),e.$nextTick((function(){e.initEchartsLine(e.dynamicData)}))}else e.$message.error(t.error)}))},initEchartsLine:function(t){var e=this;t.forEach((function(t,a){e.echartsLineModel(t)}))},echartsLineModel:function(t){this.customizeChart=s.init(document.getElementById(t.itemBox)),this.customizeChart.setOption({title:{text:t.itemName},tooltip:{trigger:"axis",formatter:function(t){t=t[0];var e=new Date(t.name);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" : "+t.value[1].toFixed(1)},axisPointer:{animation:!1,type:"cross",label:{precision:1}}},xAxis:{type:"time",splitLine:{show:!0}},yAxis:{type:"value",boundaryGap:[0,"10%"],splitLine:{show:!0},axisLabel:{formatter:"{value} "+t.nowUnit}},dataZoom:[{bottom:30,labelPrecision:1}],grid:{left:"0%",top:"20%",width:"auto",height:"auto",containLabel:!0},series:[{name:"Fake Data",type:"line",showSymbol:!1,data:t.itemData}]})},formatData:function(t,e){var a=new Date(1e3*t);t=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();return{name:a.toString(),value:[t,e]}},idName:function(){for(var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e="",a=4,i=0;i<a;i++)e+=t[Math.floor(26*Math.random())];return e},initValue:function(t){var e=0;return t<1024?e=1:t/1024<1024?e=1024:t/1024/1024<1024&&(e=1048576),e},initUnit:function(t){var e="";return t<1024?e="K":t/1024<1024?e="M":t/1024/1024<1024&&(e="G"),e}}},l=o,n=a(1001),c=(0,n.Z)(l,i,r,!1,null,null,null),u=c.exports},71:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dslfp"},[a("div",{staticClass:"filterResource"},[a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群组"},on:{change:t.selectGroup},model:{value:t.filterDynamicData.host_group,callback:function(e){t.$set(t.filterDynamicData,"host_group",e)},expression:"filterDynamicData.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机"},on:{change:t.selectHost},model:{value:t.filterDynamicData.host,callback:function(e){t.$set(t.filterDynamicData,"host",e)},expression:"filterDynamicData.host"}},t._l(t.hostOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.hostid}})})),1),a("el-input",{staticClass:"filterDynamicInput",attrs:{size:"small",placeholder:"ip","suffix-icon":"el-icon-plus"},model:{value:t.filterDynamicData.ip,callback:function(e){t.$set(t.filterDynamicData,"ip",e)},expression:"filterDynamicData.ip"}}),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"监控项"},on:{change:t.selectItem},model:{value:t.filterDynamicData.items,callback:function(e){t.$set(t.filterDynamicData,"items",e)},expression:"filterDynamicData.items"}},t._l(t.itemOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.itemid}})})),1)],1),a("div",{staticClass:"filterDate"},[a("div",{staticClass:"chooseTimeBlock"},[a("el-date-picker",{staticClass:"filterDynamicInput",attrs:{size:"small",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"]},on:{change:t.dynameicDatePicker},model:{value:t.dataPicker,callback:function(e){t.dataPicker=e},expression:"dataPicker"}})],1),a("div",{staticClass:"chooseTimePeriod"},[a("el-select",{staticClass:"filterDynamicInput selectstartDate",attrs:{size:"small",placeholder:"选择起始时间"},on:{change:t.selectStartDate},model:{value:t.startDateValue,callback:function(e){t.startDateValue=e},expression:"startDateValue"}},t._l(t.startDateOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._l(t.dynamicBox,(function(e,i){return a("div",{key:i},[e.type?[a("div",{staticClass:"custo-line-wrap",attrs:{id:e.value}}),a("hr")]:[a("p",[t._v(t._s(e.value))]),a("hr")]],2)}))],2)},r=[],s=(a(4916),a(5306),a(1539),a(4747),a(8309),a(6977),a(9714),a(7605)),o={data:function(){return{startDateOptions:[{value:"15day",label:"15天"},{value:"7day",label:"7天"},{value:"1day",label:"1天"},{value:"12hours",label:"12小时"},{value:"6hours",label:"6小时"},{value:"3hours",label:"3小时"},{value:"1hours",label:"1小时"},{value:"5minute",label:"5分钟"}],startDateValue:"7day",dynamicData:[],dynamicBox:[],groupid:"",hostid:"",itemid:this.$route.query.itemid.replace(/^,+/,"").replace(/,+$/,""),groupOptions:[],hostOptions:[],itemOptions:[],filterDynamicData:{host_group:"",host:"",ip:"",items:""},dataPicker:"",startTime:"",echartsDate:[],addtime:1e4}},mounted:function(){this.initHostList(),this.initGroupList(),this.initItemList(),this.itemid||this.$router.back(-1),this.initDynameic(),this.addsetInterval=setInterval(this.addDynameic,this.addtime)},methods:{selectItem:function(t){t.forEach((function(t){t+","})),console.log;var e="";this.itemid=t,e="/itemid/"+this.itemid,this.getHistoryData(e)},selectHost:function(t){var e=this;this.hostid=t,this.hostOptions.forEach((function(a){a.hostid==t&&(e.filterDynamicData.ip=a.ip)})),this.itemOptions=[],this.initItemList()},selectGroup:function(t){this.groupid=t,this.hostOptions=[],this.initHostList()},initItemList:function(){var t=this,e="/home/Monitor/itemselect";e=this.hostid?e+"/hostid/"+this.hostid:e+"/itemid/"+this.itemid,this.getRequest(e).then((function(e){console.log(e),200==e.code?e.data.forEach((function(e){t.itemOptions.push(e)})):t.$message.error(e.error)}))},initHostList:function(){var t=this,e="/home/Monitor/hostselect";this.groupid&&(e=e+"/host_group/"+this.groupid),this.getRequest(e).then((function(e){200==e.code?e.data.forEach((function(e){t.hostOptions.push(e)})):t.$message.error(resp.error)}))},initGroupList:function(){var t=this;this.getRequest("/home/Monitor/groupselect").then((function(e){200==e.code?e.data.forEach((function(e){t.groupOptions.push(e)})):t.$message.error(resp.error)}))},dynameicDatePicker:function(t){this.startTime=t;var e="",a="",i="",r="";this.startTime.forEach((function(t,i){if("0"==i){var r=t;e="/srartTime/"+new Date(r).getTime()/1e3}else if("1"==i){var s=t;a="/finishTime/"+new Date(s).getTime()/1e3}})),i="/itemid/"+this.itemid,r=i+e+a,this.getHistoryData(r),clearInterval(this.addsetInterval)},addsetInterval:function(){},selectStartDate:function(t){var e="",a="",i="",r=new Date;"15day"==t?r.setDate(r.getDate()-15):"1day"==t?r.setDate(r.getDate()-1):"12hours"==t?r.setHours(r.getHours()-12):"6hours"==t?r.setHours(r.getHours()-6):"3hours"==t?r.setHours(r.getHours()-3):"1hours"==t?r.setHours(r.getHours()-1):"5minute"==t?r.setMinutes(r.getMinutes()-5):r.setDate(r.getDate()-7);var s=r.getFullYear()+"/"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"/"+(r.getDate()+1<10?"0"+r.getDate():r.getDate())+" "+(r.getHours()+1<10?"0"+r.getHours():r.getHours())+":"+(r.getMinutes()+1<10?"0"+r.getMinutes():r.getMinutes())+":"+(r.getSeconds()+1<10?"0"+r.getSeconds():r.getSeconds());e="/srartTime/"+new Date(s).getTime()/1e3,a="/itemid/"+this.itemid,i=e+a,this.getHistoryData(i)},addDynameic:function(){var t=this;this.dynamicData.forEach((function(e,a){t.addHistoryData(e)}))},addHistoryData:function(t){var e=this;this.getRequest("/home/Monitor/mon_dynamic_data/limit/1/itemid/"+t.itemid).then((function(a){if(504!=a.code){var i="";a.forEach((function(a,r){var s=[];a.data.forEach((function(t,e){s.push(t.value)}));var o=0;o=e.initValue(Math.max.apply(Math,s)),a.data.forEach((function(a,r){i=a.value/o,t.itemData[t.itemData.length-1].value[0]!=e.formatData(a.clock,i).value[0]&&(t.itemData.shift(),t.itemData.push(e.formatData(a.clock,i)),e.$nextTick((function(){e.echartsLineModel(t)})))}))}))}else e.$message.error(a.error)}))},initDynameic:function(){var t="/itemid/"+this.itemid;this.getHistoryData(t)},getHistoryData:function(t){var e=this;this.getRequest("/home/Monitor/mon_dynamic_data"+t).then((function(t){if(t){e.dynamicData=[],e.dynamicBox=[];var a="";t.forEach((function(t,i){a=e.idName();var r={type:"",value:""},s={itemName:"",itemData:[],itemBox:[],itemid:"",nowUnit:""},o=[],l=0,n=[];if(200==t.code){t.data.forEach((function(t,e){n.push(t.value)}));var c="",u=0;c=e.initUnit(Math.max.apply(Math,n)),u=e.initValue(Math.max.apply(Math,n)),t.data.forEach((function(t,a){l=t.value/u,o.push(e.formatData(t.clock,l))})),"%"==t.units?s.nowUnit=t.units:""==t.units?s.nowUnit="":"bps"==t.units?s.nowUnit=c+t.units:s.nowUnit=c,s.itemName=t.itemName,s.itemid=t.itemid,s.itemData=o,s.itemBox=a,e.dynamicData.push(s),r.type=!0,r.value=a}else r.type=!1,r.value=t.error;e.dynamicBox.push(r)})),e.$nextTick((function(){e.initEchartsLine(e.dynamicData)}))}else e.$message.error(t.error)}))},initEchartsLine:function(t){var e=this;t.forEach((function(t,a){e.echartsLineModel(t)}))},echartsLineModel:function(t){this.customizeChart=s.init(document.getElementById(t.itemBox)),this.customizeChart.setOption({title:{text:t.itemName},tooltip:{trigger:"axis",formatter:function(t){t=t[0];var e=new Date(t.name);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" : "+t.value[1].toFixed(1)},axisPointer:{animation:!1,type:"cross",label:{precision:1}}},xAxis:{type:"time",splitLine:{show:!0}},yAxis:{type:"value",boundaryGap:[0,"10%"],splitLine:{show:!0},axisLabel:{formatter:"{value} "+t.nowUnit}},dataZoom:[{bottom:30,labelPrecision:1}],grid:{left:"0%",top:"20%",width:"auto",height:"auto",containLabel:!0},series:[{name:"Fake Data",type:"line",showSymbol:!1,data:t.itemData}]})},formatData:function(t,e){var a=new Date(1e3*t);t=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();return{name:a.toString(),value:[t,e]}},idName:function(){for(var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e="",a=4,i=0;i<a;i++)e+=t[Math.floor(26*Math.random())];return e},initValue:function(t){var e=0;return t<1024?e=1:t/1024<1024?e=1024:t/1024/1024<1024&&(e=1048576),e},initUnit:function(t){var e="";return t<1024?e="K":t/1024<1024?e="M":t/1024/1024<1024&&(e="G"),e}}},l=o,n=a(1001),c=(0,n.Z)(l,i,r,!1,null,null,null),u=c.exports},1458:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dslfp"},[a("div",[a("el-select",{staticClass:"filterLatestInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群组"},model:{value:t.filterLatest.host_group,callback:function(e){t.$set(t.filterLatest,"host_group",e)},expression:"filterLatest.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-select",{staticClass:"filterLatestInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机"},model:{value:t.filterLatest.host,callback:function(e){t.$set(t.filterLatest,"host",e)},expression:"filterLatest.host"}},t._l(t.hostOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.hostid}})})),1),a("el-input",{staticClass:"filterLatestInput",attrs:{size:"small",placeholder:"名称","suffix-icon":"el-icon-plus"},model:{value:t.filterLatest.itemame,callback:function(e){t.$set(t.filterLatest,"itemame",e)},expression:"filterLatest.itemame"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.filterLatestResource}},[t._v("搜索")])],1),a("div",{staticClass:"latestData"},[a("el-table",{staticStyle:{width:"100%","font-size":"10px"},attrs:{data:t.latestDataList,size:"small",border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{prop:"hosts.0.name","show-overflow-tooltip":"",label:"主机",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!=e.row.description?a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.description))]),a("p",{staticStyle:{overflow:"hidden",width:"100%","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(" "+t._s(e.row.name)+" ")])]):a("p",{staticStyle:{overflow:"hidden",width:"100%","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"lastclock",label:"最近检查记录",width:"150"}}),a("el-table-column",{attrs:{prop:"tagsvalue",label:"标记","show-overflow-tooltip":"",width:"240"}}),a("el-table-column",{attrs:{prop:"itemid",label:"动态图",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.latestDynamicData(e.row.itemid)}}},[t._v("动态图")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px",color:"#1989fa",display:"inline-block"},attrs:{size:"small",disabled:0==this.multipleSelection.length},on:{click:t.dynameicMany}},[t._v("批量动态图")]),a("div",{staticStyle:{display:"inline-block",float:"right","margin-right":"0px","margin-top":"5px","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total",total:t.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)],1)])},r=[],s=(a(1539),a(4747),a(4916),a(5306),{name:"mon_latest_data",data:function(){return{filterdata:"",filterLatest:{host_group:"",host:"",itemame:""},latestData:[],multipleSelection:[],groupOptions:[],hostOptions:[],hostid:this.$route.query.hostid,latestDataList:[],latestDataPage:1,total:0,latestDataSize:10}},created:function(){this.filterLatest.host=this.$route.query.hostid},mounted:function(){this.getLatestData(),this.initHostList(),this.initGroupList()},methods:{dynameicMany:function(){var t="";this.multipleSelection.forEach((function(e){t+=e.itemid+","})),this.$router.push({path:"/monitor/mon_dynamic_data",query:{itemid:t}})},handleSelectionChange:function(t){this.multipleSelection=t},filterLatestResource:function(){this.filterdata="",this.latestDataList=[],this.latestDataPage=1,""!=this.filterLatest.host_group&&(this.filterdata=this.filterdata+"/host_group/"+this.filterLatest.host_group),""!=this.filterLatest.host&&(this.filterdata=this.filterdata+"/hostid/"+this.filterLatest.host),""!=this.filterLatest.itemame&&(this.filterdata=this.filterdata+"/itemame/"+this.filterLatest.itemame),this.getLatestData()},latestDynamicData:function(t){this.$router.replace("/monitor/mon_dynamic_data?itemid="+t)},initGroupList:function(){var t=this;this.getRequest("/home/Monitor/groupselect").then((function(e){200==e.code?e.data.forEach((function(e){t.groupOptions.push(e)})):t.$message.error(resp.error)}))},initHostList:function(){var t=this;this.getRequest("/home/Monitor/hostselect").then((function(e){200==e.code?e.data.forEach((function(e){t.hostOptions.push(e)})):t.$message.error(resp.error)}))},sizeChange:function(t){this.latestDataSize=t,this.getLatestData()},currentChange:function(t){this.latestDataPage=t,this.getLatestData()},getLatestData:function(){var t=this;this.getRequest("/home/Monitor/mon_latest_data/hostid/"+this.hostid).then((function(e){if(200==e.code){t.total=e.itemNumber,t.latestDataList=[];for(var a=[],i=0;i<e.data.length;i++)a[i+1]=e.data[i];for(var r=t.latestDataPage*t.latestDataSize>e.itemNumber?e.itemNumber:t.latestDataPage*t.latestDataSize,s=1==t.latestDataPage?t.latestDataPage:t.latestDataPage*t.latestDataSize-t.latestDataSize+1;s<=r;s++)t.latestDataList.push(a[s])}}))}}}),o=s,l=a(1001),n=(0,l.Z)(o,i,r,!1,null,null,null),c=n.exports},6783:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zhuti"},[a("div",{staticClass:"nav"},[a("el-input",{staticClass:"filterServerInput",attrs:{size:"small",placeholder:"名称","suffix-icon":"el-icon-plus"},model:{value:t.filterServer.name,callback:function(e){t.$set(t.filterServer,"name",e)},expression:"filterServer.name"}}),a("el-select",{staticClass:"filterServerInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群"},model:{value:t.filterServer.host_group,callback:function(e){t.$set(t.filterServer,"host_group",e)},expression:"filterServer.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-input",{staticClass:"filterServerInput",attrs:{size:"small",placeholder:"ip","suffix-icon":"el-icon-plus"},model:{value:t.filterServer.ip,callback:function(e){t.$set(t.filterServer,"ip",e)},expression:"filterServer.ip"}}),a("el-input",{staticClass:"filterServerInput",attrs:{size:"small",placeholder:"端口","suffix-icon":"el-icon-plus"},model:{value:t.filterServer.port,callback:function(e){t.$set(t.filterServer,"port",e)},expression:"filterServer.port"}}),a("div",{staticClass:"filterServerInput",attrs:{size:"small"}},[t._v(" 严重性: "),a("el-checkbox-group",{staticClass:"filterServerInputs",staticStyle:{display:"initial"},attrs:{size:"small"},model:{value:t.filterServer.severity,callback:function(e){t.$set(t.filterServer,"severity",e)},expression:"filterServer.severity"}},[a("el-checkbox",{attrs:{label:"0"}},[t._v("未分类")]),a("el-checkbox",{attrs:{label:"1"}},[t._v("信息")]),a("el-checkbox",{attrs:{label:"2"}},[t._v("警告")]),a("el-checkbox",{attrs:{label:"3"}},[t._v("一般严重")]),a("el-checkbox",{attrs:{label:"4"}},[t._v("严重")]),a("el-checkbox",{attrs:{label:"5"}},[t._v("灾难")])],1)],1),a("div",{staticClass:"filterServerInput",attrs:{size:"small"}},[t._v(" 状态: "),a("el-radio-group",{staticClass:"filterServerInput",staticStyle:{display:"initial"},attrs:{size:"small"},model:{value:t.filterServer.available,callback:function(e){t.$set(t.filterServer,"available",e)},expression:"filterServer.available"}},[a("el-radio-button",{attrs:{label:"2"}},[t._v("任何")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("启用的")]),a("el-radio-button",{attrs:{label:"0"}},[t._v("停用的")])],1)],1),a("el-button",{staticClass:"search",attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.filterServerResource}},[t._v("搜索")])],1),a("div",{staticClass:"serManaMain"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.serverList,size:"small",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":"",label:"名称"}}),a("el-table-column",{attrs:{prop:"ip_port","show-overflow-tooltip":"",label:"接口"}}),a("el-table-column",{attrs:{prop:"timeTags","show-overflow-tooltip":"",label:"标记"}}),a("el-table-column",{attrs:{prop:"interfacesAvailable",label:"可用性",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.interfacesAvailable?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.interfacesType))]):"2"==e.row.interfacesAvailable?a("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.interfacesType))]):a("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.interfacesType))])]}}])}),a("el-table-column",{attrs:{prop:"interfacesAvailable",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.interfacesAvailable||"2"==e.row.interfacesAvailable?a("el-tag",{attrs:{type:"success"}},[t._v("已启用")]):a("el-tag",{attrs:{type:"danger"}},[t._v("未启用")])]}}])}),a("el-table-column",{attrs:{prop:"hostid",label:"最新数据",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.latestData(e.row.hostid)}}},[t._v("最新数据")])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total",total:t.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)],1)])},r=[],s=(a(4916),a(5306),a(8309),a(1539),a(4747),{name:"mon_ser_list",data:function(){return{groupOptions:[],filterdata:"",filterServer:{name:"",host_group:"",ip:"",port:"",severity:[],available:"2"},serverList:[],serverResource:[],serverPage:1,serverSize:10,total:0,ServerListUrl:"/home/Monitor/mon_ser_list"}},mounted:function(){this.initGroupList(),this.getServerResource()},methods:{latestData:function(t){this.$router.replace("/monitor/mon_latest_data?hostid="+t)},filterServerResource:function(){this.filterdata="",this.serverList=[],this.serverPage=1,""!=this.filterServer.name&&(this.filterdata=this.filterdata+"/name/"+this.filterServer.name),""!=this.filterServer.host_group&&(this.filterdata=this.filterdata+"/host_group/"+this.filterServer.host_group),""!=this.filterServer.ip&&(this.filterdata=this.filterdata+"/ip/"+this.filterServer.ip),""!=this.filterServer.port&&(this.filterdata=this.filterdata+"/port/"+this.filterServer.port),""!=this.filterServer.severity&&(this.filterdata=this.filterdata+"/severity/"+this.filterServer.severity),this.filterdata=this.filterdata+"/available/"+this.filterServer.available,this.getServerResource()},sizeChange:function(t){this.serverSize=t,this.getServerResource()},currentChange:function(t){this.serverPage=t,this.getServerResource()},initGroupList:function(){var t=this;this.getRequest("/home/Monitor/groupselect").then((function(e){200==e.code?e.data.forEach((function(e){t.groupOptions.push(e)})):t.$message.error(resp.error)}))},getServerResource:function(){var t=this,e=this.ServerListUrl+this.filterdata;this.serverResource.length<=1&&this.getRequest(e).then((function(e){if(e){t.total=e.serNumber,t.serverList=[];for(var a=[],i=0;i<e.data.length;i++)a[i+1]=e.data[i];for(var r=t.serverPage*t.serverSize>e.serNumber?e.serNumber:t.serverPage*t.serverSize,s=1==t.serverPage?t.serverPage:t.serverPage*t.serverSize-t.serverSize+1;s<=r;s++)t.serverList.push(a[s]);console.log(e)}}))}}}),o=s,l=a(1001),n=(0,l.Z)(o,i,r,!1,null,null,null),c=n.exports},4706:function(t,e,a){var i=a(6916),r=a(2597),s=a(7976),o=a(7066),l=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in l||r(t,"flags")||!s(l,t)?e:i(o,t)}},8415:function(t,e,a){"use strict";var i=a(7854),r=a(9303),s=a(1340),o=a(4488),l=i.RangeError;t.exports=function(t){var e=s(o(this)),a="",i=r(t);if(i<0||i==1/0)throw l("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},863:function(t,e,a){var i=a(1702);t.exports=i(1..valueOf)},6977:function(t,e,a){"use strict";var i=a(2109),r=a(7854),s=a(1702),o=a(9303),l=a(863),n=a(8415),c=a(7293),u=r.RangeError,h=r.String,f=Math.floor,m=s(n),d=s("".slice),p=s(1..toFixed),v=function(t,e,a){return 0===e?a:e%2===1?v(t,e-1,a*t):v(t*t,e/2,a)},g=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},y=function(t,e,a){var i=-1,r=a;while(++i<6)r+=e*t[i],t[i]=r%1e7,r=f(r/1e7)},D=function(t,e){var a=6,i=0;while(--a>=0)i+=t[a],t[a]=f(i/e),i=i%e*1e7},b=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var i=h(t[e]);a=""===a?i:a+m("0",7-i.length)+i}return a},_=c((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!c((function(){p({})}));i({target:"Number",proto:!0,forced:_},{toFixed:function(t){var e,a,i,r,s=l(this),n=o(t),c=[0,0,0,0,0,0],f="",p="0";if(n<0||n>20)throw u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return h(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=g(s*v(2,69,1))-69,a=e<0?s*v(2,-e,1):s/v(2,e,1),a*=4503599627370496,e=52-e,e>0){y(c,0,a),i=n;while(i>=7)y(c,1e7,0),i-=7;y(c,v(10,i,1),0),i=e-1;while(i>=23)D(c,1<<23),i-=23;D(c,1<<i),y(c,1,1),D(c,2),p=b(c)}else y(c,0,a),y(c,1<<-e,0),p=b(c)+m("0",n);return n>0?(r=p.length,p=f+(r<=n?"0."+m("0",n-r)+p:d(p,0,r-n)+"."+d(p,r-n))):p=f+p,p}})},9714:function(t,e,a){"use strict";var i=a(6530).PROPER,r=a(8052),s=a(9670),o=a(1340),l=a(7293),n=a(4706),c="toString",u=RegExp.prototype,h=u[c],f=l((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),m=i&&h.name!=c;(f||m)&&r(RegExp.prototype,c,(function(){var t=s(this),e=o(t.source),a=o(n(t));return"/"+e+"/"+a}),{unsafe:!0})}}]);
//# sourceMappingURL=843-legacy.4a3ebd7e.js.map