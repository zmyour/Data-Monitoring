"use strict";(self["webpackChunkDataMonitoring"]=self["webpackChunkDataMonitoring"]||[]).push([[843],{6923:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dslfp"},[a("div",{staticClass:"dash_board"},[a("el-tag",{staticStyle:{"background-color":"#86cc890d","border-color":"#86cc89",color:"#86cc89"}},[a("span",[t._v(t._s(t.normalNumber)+" "),a("br"),t._v(" 监控主机数总数")])]),a("el-tag",{staticStyle:{"background-color":"#fef0f0","border-color":"#f56c6c",color:"#f56c6c"}},[a("span",[t._v(t._s(t.errorNumber)+" "),a("br"),t._v(" 监控不可用主机数")])]),a("el-tag",{staticStyle:{"background-color":"#f4f4f5","border-color":"#909399",color:"#909399"}},[a("span",[t._v(t._s(t.serverNumber)+" "),a("br"),t._v(" 监控主机数总数")])]),a("el-tag",{staticStyle:{"background-color":"#f56c6c26","border-color":"#e6a23c",color:"#e6a23c"}},[a("span",[t._v(t._s(t.alertNumber)+" "),a("br"),t._v(" 警报数")])])],1),a("div",[a("el-table",{staticStyle:{width:"100%","border-radius":"5px"},attrs:{"row-class-name":t.tableRowClassName,data:t.dashBoardData}},[a("el-table-column",{attrs:{prop:"clock_time",label:"日期",width:"170"}}),a("el-table-column",{attrs:{prop:"hosts_name",label:"主机","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"name",label:"问题 • 严重性","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.severity)+"-- "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"continued_time",label:"持续时间",width:"120"}}),a("el-table-column",{attrs:{prop:"acknowledged_status",label:"确认",width:"50"}}),a("el-table-column",{attrs:{prop:"tags",label:"标记","show-overflow-tooltip":""}})],1)],1)])},s=[],r={name:"mon_dash_board",data(){return{dashBoardData:[],normalNumber:"",errorNumber:"",serverNumber:"",alertNumber:""}},mounted(){this.initDashBoardData()},methods:{tableRowClassName({row:t}){return 0==t.severity?"classified-row":1==t.severity?"information-row":2==t.severity?"warning-row":3==t.severity?"average-row":4==t.severity?"high-row":5==t.severity?"disaster-row":""},initDashBoardData(){this.getRequest("/home/Monitor/mon_dash_board").then((t=>{t&&(console.log(t),this.dashBoardData=t.event_list,this.serverNumber=t.serverNumber,this.normalNumber=t.normalNumber,this.errorNumber=t.errorNumber,this.alertNumber=t.alertNumber)}))}}},l=r,o=a(1001),n=(0,o.Z)(l,i,s,!1,null,null,null),c=n.exports},5673:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filterResource"},[a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群组"},on:{change:t.selectGroup},model:{value:t.filterDynamicData.host_group,callback:function(e){t.$set(t.filterDynamicData,"host_group",e)},expression:"filterDynamicData.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机"},on:{change:t.selectHost},model:{value:t.filterDynamicData.host,callback:function(e){t.$set(t.filterDynamicData,"host",e)},expression:"filterDynamicData.host"}},t._l(t.hostOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.hostid}})})),1),a("el-input",{staticClass:"filterDynamicInput",attrs:{size:"small",placeholder:"ip","suffix-icon":"el-icon-plus"},model:{value:t.filterDynamicData.ip,callback:function(e){t.$set(t.filterDynamicData,"ip",e)},expression:"filterDynamicData.ip"}}),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"监控项"},on:{change:t.selectItem},model:{value:t.filterDynamicData.items,callback:function(e){t.$set(t.filterDynamicData,"items",e)},expression:"filterDynamicData.items"}},t._l(t.itemOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.itemid}})})),1)],1),a("div",{staticClass:"filterDate"},[a("div",{staticClass:"chooseTimeBlock"},[a("el-date-picker",{staticClass:"filterDynamicInput",attrs:{size:"small",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"]},on:{change:t.dynameicDatePicker},model:{value:t.dataPicker,callback:function(e){t.dataPicker=e},expression:"dataPicker"}})],1),a("div",{staticClass:"chooseTimePeriod"},[a("el-select",{staticClass:"filterDynamicInput selectstartDate",attrs:{size:"small",placeholder:"选择起始时间"},on:{change:t.selectStartDate},model:{value:t.startDateValue,callback:function(e){t.startDateValue=e},expression:"startDateValue"}},t._l(t.startDateOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._l(t.dynamicBox,(function(e,i){return a("div",{key:i},[e.type?[a("div",{staticClass:"custo-line-wrap",attrs:{id:e.value}}),a("hr")]:[a("p",[t._v(t._s(e.value))]),a("hr")]],2)}))],2)},s=[],r=a(2261),l={data(){return{startDateOptions:[{value:"15day",label:"15天"},{value:"7day",label:"7天"},{value:"1day",label:"1天"},{value:"12hours",label:"12小时"},{value:"6hours",label:"6小时"},{value:"3hours",label:"3小时"},{value:"1hours",label:"1小时"},{value:"5minute",label:"5分钟"}],startDateValue:"7day",dynamicData:[],dynamicBox:[],groupid:"",hostid:"",itemid:this.$route.query.itemid.replace(/^,+/,"").replace(/,+$/,""),groupOptions:[],hostOptions:[],itemOptions:[],filterDynamicData:{host_group:"",host:"",ip:"",items:""},dataPicker:"",startTime:"",echartsDate:[],addtime:1e4}},mounted(){this.initHostList(),this.initGroupList(),this.initItemList(),this.itemid||this.$router.back(-1),this.initDynameic(),this.addsetInterval=setInterval(this.addDynameic,this.addtime)},methods:{selectItem(t){let e="";t.forEach((t=>{e+=t+","})),this.$router.replace("/home/monitor/mon_dynamic_data?itemid="+e);let a="";this.itemid=t,a="/itemid/"+this.itemid,this.getHistoryData(a)},selectHost(t){this.hostid=t,this.hostOptions.forEach((e=>{e.hostid==t&&(this.filterDynamicData.ip=e.ip)})),this.itemOptions=[],this.initItemList()},selectGroup(t){this.groupid=t,this.hostOptions=[],this.initHostList()},initItemList(){let t="/home/Monitor/itemselect";t=this.hostid?t+"/hostid/"+this.hostid:t+"/itemid/"+this.itemid,this.getRequest(t).then((t=>{200==t.code?t.data.forEach((t=>{this.itemOptions.push(t)})):this.$message.error(t.error)}))},initHostList(){let t="/home/Monitor/hostselect";this.groupid&&(t=t+"/host_group/"+this.groupid),this.getRequest(t).then((t=>{200==t.code?t.data.forEach((t=>{this.hostOptions.push(t)})):this.$message.error(t.error)}))},initGroupList(){this.getRequest("/home/Monitor/groupselect").then((t=>{200==t.code?t.data.forEach((t=>{this.groupOptions.push(t)})):this.$message.error(t.error)}))},dynameicDatePicker(t){this.startTime=t;let e="",a="",i="",s="";this.startTime.forEach(((t,i)=>{if("0"==i){let a=t;e="/srartTime/"+new Date(a).getTime()/1e3}else if("1"==i){let e=t;a="/finishTime/"+new Date(e).getTime()/1e3}})),i="/itemid/"+this.itemid,s=i+e+a,this.getHistoryData(s),clearInterval(this.addsetInterval)},addsetInterval(){},selectStartDate(t){let e="",a="",i="",s=new Date;"15day"==t?s.setDate(s.getDate()-15):"1day"==t?s.setDate(s.getDate()-1):"12hours"==t?s.setHours(s.getHours()-12):"6hours"==t?s.setHours(s.getHours()-6):"3hours"==t?s.setHours(s.getHours()-3):"1hours"==t?s.setHours(s.getHours()-1):"5minute"==t?s.setMinutes(s.getMinutes()-5):s.setDate(s.getDate()-7);let r=s.getFullYear()+"/"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"/"+(s.getDate()+1<10?"0"+s.getDate():s.getDate())+" "+(s.getHours()+1<10?"0"+s.getHours():s.getHours())+":"+(s.getMinutes()+1<10?"0"+s.getMinutes():s.getMinutes())+":"+(s.getSeconds()+1<10?"0"+s.getSeconds():s.getSeconds());e="/srartTime/"+new Date(r).getTime()/1e3,a="/itemid/"+this.itemid,i=e+a,this.getHistoryData(i)},addDynameic(){this.dynamicData.forEach(((t,e)=>{this.addHistoryData(t)}))},addHistoryData(t){this.getRequest("/home/Monitor/mon_dynamic_data/limit/1/itemid/"+t.itemid).then((e=>{if(504!=e.code){let a="";e.forEach(((e,i)=>{let s=[];e.data.forEach(((t,e)=>{s.push(t.value)}));let r=0;r=this.initValue(Math.max(...s)),e.data.forEach(((e,i)=>{a=e.value/r,t.itemData[t.itemData.length-1].value[0]!=this.formatData(e.clock,a).value[0]&&(t.itemData.shift(),t.itemData.push(this.formatData(e.clock,a)),this.$nextTick((()=>{this.echartsLineModel(t)})))}))}))}else this.$message.error(e.error)}))},initDynameic(){let t="/itemid/"+this.itemid;this.getHistoryData(t)},getHistoryData(t){this.getRequest("/home/Monitor/mon_dynamic_data"+t).then((t=>{if(t){this.dynamicData=[],this.dynamicBox=[];let e="";t.forEach(((t,a)=>{e=this.idName();let i={type:"",value:""},s={itemName:"",itemData:[],itemBox:[],itemid:"",nowUnit:""},r=[],l=0,o=[];if(200==t.code){t.data.forEach(((t,e)=>{o.push(t.value)}));let a="",n=0;a=this.initUnit(Math.max(...o)),n=this.initValue(Math.max(...o)),t.data.forEach(((t,e)=>{l=t.value/n,r.push(this.formatData(t.clock,l))})),"%"==t.units?s.nowUnit=t.units:""==t.units?s.nowUnit="":"bps"==t.units?s.nowUnit=a+t.units:s.nowUnit=a,s.itemName=t.itemName,s.itemid=t.itemid,s.itemData=r,s.itemBox=e,this.dynamicData.push(s),i.type=!0,i.value=e}else i.type=!1,i.value=t.error;this.dynamicBox.push(i)})),this.$nextTick((()=>{this.initEchartsLine(this.dynamicData)}))}else this.$message.error(t.error)}))},initEchartsLine(t){t.forEach(((t,e)=>{this.echartsLineModel(t)}))},echartsLineModel(t){this.customizeChart=r.init(document.getElementById(t.itemBox)),this.customizeChart.setOption({title:{text:t.itemName},tooltip:{trigger:"axis",formatter:function(t){t=t[0];let e=new Date(t.name);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" : "+t.value[1].toFixed(1)},axisPointer:{animation:!1,type:"cross",label:{precision:1}}},xAxis:{type:"time",splitLine:{show:!0}},yAxis:{type:"value",boundaryGap:[0,"10%"],splitLine:{show:!0},axisLabel:{formatter:"{value} "+t.nowUnit}},dataZoom:[{bottom:30,labelPrecision:1}],grid:{left:"0%",top:"20%",width:"auto",height:"auto",containLabel:!0},series:[{name:"Fake Data",type:"line",showSymbol:!1,data:t.itemData}]})},formatData(t,e){let a=new Date(1e3*t);t=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();return{name:a.toString(),value:[t,e]}},idName(){let t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e="",a=4;for(var i=0;i<a;i++)e+=t[Math.floor(26*Math.random())];return e},initValue(t){let e=0;return t<1024?e=1:t/1024<1024?e=1024:t/1024/1024<1024&&(e=1048576),e},initUnit(t){let e="";return t<1024?e="K":t/1024<1024?e="M":t/1024/1024<1024&&(e="G"),e}}},o=l,n=a(1001),c=(0,n.Z)(o,i,s,!1,null,null,null),u=c.exports},71:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dslfp"},[a("div",{staticClass:"filterResource"},[a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群组"},on:{change:t.selectGroup},model:{value:t.filterDynamicData.host_group,callback:function(e){t.$set(t.filterDynamicData,"host_group",e)},expression:"filterDynamicData.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机"},on:{change:t.selectHost},model:{value:t.filterDynamicData.host,callback:function(e){t.$set(t.filterDynamicData,"host",e)},expression:"filterDynamicData.host"}},t._l(t.hostOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.hostid}})})),1),a("el-input",{staticClass:"filterDynamicInput",attrs:{size:"small",placeholder:"ip","suffix-icon":"el-icon-plus"},model:{value:t.filterDynamicData.ip,callback:function(e){t.$set(t.filterDynamicData,"ip",e)},expression:"filterDynamicData.ip"}}),a("el-select",{staticClass:"filterDynamicInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"监控项"},on:{change:t.selectItem},model:{value:t.filterDynamicData.items,callback:function(e){t.$set(t.filterDynamicData,"items",e)},expression:"filterDynamicData.items"}},t._l(t.itemOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.itemid}})})),1)],1),a("div",{staticClass:"filterDate"},[a("div",{staticClass:"chooseTimeBlock"},[a("el-date-picker",{staticClass:"filterDynamicInput",attrs:{size:"small",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"]},on:{change:t.dynameicDatePicker},model:{value:t.dataPicker,callback:function(e){t.dataPicker=e},expression:"dataPicker"}})],1),a("div",{staticClass:"chooseTimePeriod"},[a("el-select",{staticClass:"filterDynamicInput selectstartDate",attrs:{size:"small",placeholder:"选择起始时间"},on:{change:t.selectStartDate},model:{value:t.startDateValue,callback:function(e){t.startDateValue=e},expression:"startDateValue"}},t._l(t.startDateOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),t._l(t.dynamicBox,(function(e,i){return a("div",{key:i},[e.type?[a("div",{staticClass:"custo-line-wrap",attrs:{id:e.value}}),a("hr")]:[a("p",[t._v(t._s(e.value))]),a("hr")]],2)}))],2)},s=[],r=a(2261),l={data(){return{startDateOptions:[{value:"15day",label:"15天"},{value:"7day",label:"7天"},{value:"1day",label:"1天"},{value:"12hours",label:"12小时"},{value:"6hours",label:"6小时"},{value:"3hours",label:"3小时"},{value:"1hours",label:"1小时"},{value:"5minute",label:"5分钟"}],startDateValue:"7day",dynamicData:[],dynamicBox:[],groupid:"",hostid:"",itemid:this.$route.query.itemid.replace(/^,+/,"").replace(/,+$/,""),groupOptions:[],hostOptions:[],itemOptions:[],filterDynamicData:{host_group:"",host:"",ip:"",items:""},dataPicker:"",startTime:"",echartsDate:[],addtime:1e4}},mounted(){this.initHostList(),this.initGroupList(),this.initItemList(),this.itemid||this.$router.back(-1),this.initDynameic(),this.addsetInterval=setInterval(this.addDynameic,this.addtime)},methods:{selectItem(t){let e="";t.forEach((t=>{e+=t+","})),console.log;let a="";this.itemid=t,a="/itemid/"+this.itemid,this.getHistoryData(a)},selectHost(t){this.hostid=t,this.hostOptions.forEach((e=>{e.hostid==t&&(this.filterDynamicData.ip=e.ip)})),this.itemOptions=[],this.initItemList()},selectGroup(t){this.groupid=t,this.hostOptions=[],this.initHostList()},initItemList(){let t="/home/Monitor/itemselect";t=this.hostid?t+"/hostid/"+this.hostid:t+"/itemid/"+this.itemid,this.getRequest(t).then((t=>{console.log(t),200==t.code?t.data.forEach((t=>{this.itemOptions.push(t)})):this.$message.error(t.error)}))},initHostList(){let t="/home/Monitor/hostselect";this.groupid&&(t=t+"/host_group/"+this.groupid),this.getRequest(t).then((t=>{200==t.code?t.data.forEach((t=>{this.hostOptions.push(t)})):this.$message.error(resp.error)}))},initGroupList(){this.getRequest("/home/Monitor/groupselect").then((t=>{200==t.code?t.data.forEach((t=>{this.groupOptions.push(t)})):this.$message.error(resp.error)}))},dynameicDatePicker(t){this.startTime=t;let e="",a="",i="",s="";this.startTime.forEach(((t,i)=>{if("0"==i){let a=t;e="/srartTime/"+new Date(a).getTime()/1e3}else if("1"==i){let e=t;a="/finishTime/"+new Date(e).getTime()/1e3}})),i="/itemid/"+this.itemid,s=i+e+a,this.getHistoryData(s),clearInterval(this.addsetInterval)},addsetInterval(){},selectStartDate(t){let e="",a="",i="",s=new Date;"15day"==t?s.setDate(s.getDate()-15):"1day"==t?s.setDate(s.getDate()-1):"12hours"==t?s.setHours(s.getHours()-12):"6hours"==t?s.setHours(s.getHours()-6):"3hours"==t?s.setHours(s.getHours()-3):"1hours"==t?s.setHours(s.getHours()-1):"5minute"==t?s.setMinutes(s.getMinutes()-5):s.setDate(s.getDate()-7);let r=s.getFullYear()+"/"+(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"/"+(s.getDate()+1<10?"0"+s.getDate():s.getDate())+" "+(s.getHours()+1<10?"0"+s.getHours():s.getHours())+":"+(s.getMinutes()+1<10?"0"+s.getMinutes():s.getMinutes())+":"+(s.getSeconds()+1<10?"0"+s.getSeconds():s.getSeconds());e="/srartTime/"+new Date(r).getTime()/1e3,a="/itemid/"+this.itemid,i=e+a,this.getHistoryData(i)},addDynameic(){this.dynamicData.forEach(((t,e)=>{this.addHistoryData(t)}))},addHistoryData(t){this.getRequest("/home/Monitor/mon_dynamic_data/limit/1/itemid/"+t.itemid).then((e=>{if(504!=e.code){let a="";e.forEach(((e,i)=>{let s=[];e.data.forEach(((t,e)=>{s.push(t.value)}));let r=0;r=this.initValue(Math.max(...s)),e.data.forEach(((e,i)=>{a=e.value/r,t.itemData[t.itemData.length-1].value[0]!=this.formatData(e.clock,a).value[0]&&(t.itemData.shift(),t.itemData.push(this.formatData(e.clock,a)),this.$nextTick((()=>{this.echartsLineModel(t)})))}))}))}else this.$message.error(e.error)}))},initDynameic(){let t="/itemid/"+this.itemid;this.getHistoryData(t)},getHistoryData(t){this.getRequest("/home/Monitor/mon_dynamic_data"+t).then((t=>{if(t){this.dynamicData=[],this.dynamicBox=[];let e="";t.forEach(((t,a)=>{e=this.idName();let i={type:"",value:""},s={itemName:"",itemData:[],itemBox:[],itemid:"",nowUnit:""},r=[],l=0,o=[];if(200==t.code){t.data.forEach(((t,e)=>{o.push(t.value)}));let a="",n=0;a=this.initUnit(Math.max(...o)),n=this.initValue(Math.max(...o)),t.data.forEach(((t,e)=>{l=t.value/n,r.push(this.formatData(t.clock,l))})),"%"==t.units?s.nowUnit=t.units:""==t.units?s.nowUnit="":"bps"==t.units?s.nowUnit=a+t.units:s.nowUnit=a,s.itemName=t.itemName,s.itemid=t.itemid,s.itemData=r,s.itemBox=e,this.dynamicData.push(s),i.type=!0,i.value=e}else i.type=!1,i.value=t.error;this.dynamicBox.push(i)})),this.$nextTick((()=>{this.initEchartsLine(this.dynamicData)}))}else this.$message.error(t.error)}))},initEchartsLine(t){t.forEach(((t,e)=>{this.echartsLineModel(t)}))},echartsLineModel(t){this.customizeChart=r.init(document.getElementById(t.itemBox)),this.customizeChart.setOption({title:{text:t.itemName},tooltip:{trigger:"axis",formatter:function(t){t=t[0];let e=new Date(t.name);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" : "+t.value[1].toFixed(1)},axisPointer:{animation:!1,type:"cross",label:{precision:1}}},xAxis:{type:"time",splitLine:{show:!0}},yAxis:{type:"value",boundaryGap:[0,"10%"],splitLine:{show:!0},axisLabel:{formatter:"{value} "+t.nowUnit}},dataZoom:[{bottom:30,labelPrecision:1}],grid:{left:"0%",top:"20%",width:"auto",height:"auto",containLabel:!0},series:[{name:"Fake Data",type:"line",showSymbol:!1,data:t.itemData}]})},formatData(t,e){let a=new Date(1e3*t);t=a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();return{name:a.toString(),value:[t,e]}},idName(){let t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e="",a=4;for(var i=0;i<a;i++)e+=t[Math.floor(26*Math.random())];return e},initValue(t){let e=0;return t<1024?e=1:t/1024<1024?e=1024:t/1024/1024<1024&&(e=1048576),e},initUnit(t){let e="";return t<1024?e="K":t/1024<1024?e="M":t/1024/1024<1024&&(e="G"),e}}},o=l,n=a(1001),c=(0,n.Z)(o,i,s,!1,null,null,null),u=c.exports},1458:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dslfp"},[a("div",[a("el-select",{staticClass:"filterLatestInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群组"},model:{value:t.filterLatest.host_group,callback:function(e){t.$set(t.filterLatest,"host_group",e)},expression:"filterLatest.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-select",{staticClass:"filterLatestInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机"},model:{value:t.filterLatest.host,callback:function(e){t.$set(t.filterLatest,"host",e)},expression:"filterLatest.host"}},t._l(t.hostOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.hostid}})})),1),a("el-input",{staticClass:"filterLatestInput",attrs:{size:"small",placeholder:"名称","suffix-icon":"el-icon-plus"},model:{value:t.filterLatest.itemame,callback:function(e){t.$set(t.filterLatest,"itemame",e)},expression:"filterLatest.itemame"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.filterLatestResource}},[t._v("搜索")])],1),a("div",{staticClass:"latestData"},[a("el-table",{staticStyle:{width:"100%","font-size":"10px"},attrs:{data:t.latestDataList,size:"small",border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{prop:"hosts.0.name","show-overflow-tooltip":"",label:"主机",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!=e.row.description?a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.description))]),a("p",{staticStyle:{overflow:"hidden",width:"100%","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(" "+t._s(e.row.name)+" ")])]):a("p",{staticStyle:{overflow:"hidden",width:"100%","white-space":"nowrap","text-overflow":"ellipsis"}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"lastclock",label:"最近检查记录",width:"150"}}),a("el-table-column",{attrs:{prop:"tagsvalue",label:"标记","show-overflow-tooltip":"",width:"240"}}),a("el-table-column",{attrs:{prop:"itemid",label:"动态图",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.latestDynamicData(e.row.itemid)}}},[t._v("动态图")])]}}])})],1),a("el-button",{staticStyle:{"margin-top":"10px",color:"#1989fa",display:"inline-block"},attrs:{size:"small",disabled:0==this.multipleSelection.length},on:{click:t.dynameicMany}},[t._v("批量动态图")]),a("div",{staticStyle:{display:"inline-block",float:"right","margin-right":"0px","margin-top":"5px","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total",total:t.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)],1)])},s=[],r={name:"mon_latest_data",data(){return{filterdata:"",filterLatest:{host_group:"",host:"",itemame:""},latestData:[],multipleSelection:[],groupOptions:[],hostOptions:[],hostid:this.$route.query.hostid,latestDataList:[],latestDataPage:1,total:0,latestDataSize:10}},created(){this.filterLatest.host=this.$route.query.hostid},mounted(){this.getLatestData(),this.initHostList(),this.initGroupList()},methods:{dynameicMany(){let t="";this.multipleSelection.forEach((e=>{t+=e.itemid+","})),this.$router.push({path:"/monitor/mon_dynamic_data",query:{itemid:t}})},handleSelectionChange(t){this.multipleSelection=t},filterLatestResource(){this.filterdata="",this.latestDataList=[],this.latestDataPage=1,""!=this.filterLatest.host_group&&(this.filterdata=this.filterdata+"/host_group/"+this.filterLatest.host_group),""!=this.filterLatest.host&&(this.filterdata=this.filterdata+"/hostid/"+this.filterLatest.host),""!=this.filterLatest.itemame&&(this.filterdata=this.filterdata+"/itemame/"+this.filterLatest.itemame),this.getLatestData()},latestDynamicData(t){this.$router.replace("/monitor/mon_dynamic_data?itemid="+t)},initGroupList(){this.getRequest("/home/Monitor/groupselect").then((t=>{200==t.code?t.data.forEach((t=>{this.groupOptions.push(t)})):this.$message.error(resp.error)}))},initHostList(){this.getRequest("/home/Monitor/hostselect").then((t=>{200==t.code?t.data.forEach((t=>{this.hostOptions.push(t)})):this.$message.error(resp.error)}))},sizeChange(t){this.latestDataSize=t,this.getLatestData()},currentChange(t){this.latestDataPage=t,this.getLatestData()},getLatestData(){this.getRequest("/home/Monitor/mon_latest_data/hostid/"+this.hostid).then((t=>{if(200==t.code){this.total=t.itemNumber,this.latestDataList=[];let e=[];for(let i=0;i<t.data.length;i++)e[i+1]=t.data[i];let a=this.latestDataPage*this.latestDataSize>t.itemNumber?t.itemNumber:this.latestDataPage*this.latestDataSize;for(let t=1==this.latestDataPage?this.latestDataPage:this.latestDataPage*this.latestDataSize-this.latestDataSize+1;t<=a;t++)this.latestDataList.push(e[t])}}))}}},l=r,o=a(1001),n=(0,o.Z)(l,i,s,!1,null,null,null),c=n.exports},1589:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"zhuti"},[a("div",{staticClass:"nav"},[a("el-input",{staticClass:"filterServerInput",attrs:{size:"small",placeholder:"名称","suffix-icon":"el-icon-plus"},model:{value:t.filterServer.name,callback:function(e){t.$set(t.filterServer,"name",e)},expression:"filterServer.name"}}),a("el-select",{staticClass:"filterServerInput",attrs:{size:"small",multiple:"",filterable:"","allow-create":!1,"default-first-option":"",placeholder:"主机群"},model:{value:t.filterServer.host_group,callback:function(e){t.$set(t.filterServer,"host_group",e)},expression:"filterServer.host_group"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.groupid}})})),1),a("el-input",{staticClass:"filterServerInput",attrs:{size:"small",placeholder:"ip","suffix-icon":"el-icon-plus"},model:{value:t.filterServer.ip,callback:function(e){t.$set(t.filterServer,"ip",e)},expression:"filterServer.ip"}}),a("el-input",{staticClass:"filterServerInput",attrs:{size:"small",placeholder:"端口","suffix-icon":"el-icon-plus"},model:{value:t.filterServer.port,callback:function(e){t.$set(t.filterServer,"port",e)},expression:"filterServer.port"}}),a("div",{staticClass:"filterServerInput",attrs:{size:"small"}},[t._v(" 严重性: "),a("el-checkbox-group",{staticClass:"filterServerInputs",staticStyle:{display:"initial"},attrs:{size:"small"},model:{value:t.filterServer.severity,callback:function(e){t.$set(t.filterServer,"severity",e)},expression:"filterServer.severity"}},[a("el-checkbox",{attrs:{label:"0"}},[t._v("未分类")]),a("el-checkbox",{attrs:{label:"1"}},[t._v("信息")]),a("el-checkbox",{attrs:{label:"2"}},[t._v("警告")]),a("el-checkbox",{attrs:{label:"3"}},[t._v("一般严重")]),a("el-checkbox",{attrs:{label:"4"}},[t._v("严重")]),a("el-checkbox",{attrs:{label:"5"}},[t._v("灾难")])],1)],1),a("div",{staticClass:"filterServerInput",attrs:{size:"small"}},[t._v(" 状态: "),a("el-radio-group",{staticClass:"filterServerInput",staticStyle:{display:"initial"},attrs:{size:"small"},model:{value:t.filterServer.available,callback:function(e){t.$set(t.filterServer,"available",e)},expression:"filterServer.available"}},[a("el-radio-button",{attrs:{label:"2"}},[t._v("任何")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("启用的")]),a("el-radio-button",{attrs:{label:"0"}},[t._v("停用的")])],1)],1),a("el-button",{staticClass:"search",attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.filterServerResource}},[t._v("搜索")])],1),a("div",{staticClass:"serManaMain"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.serverList,size:"small",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":"",label:"名称"}}),a("el-table-column",{attrs:{prop:"ip_port","show-overflow-tooltip":"",label:"接口"}}),a("el-table-column",{attrs:{prop:"timeTags","show-overflow-tooltip":"",label:"标记"}}),a("el-table-column",{attrs:{prop:"interfacesAvailable",label:"可用性",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.interfacesAvailable?a("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.interfacesType))]):"2"==e.row.interfacesAvailable?a("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.interfacesType))]):a("el-tag",{attrs:{type:"info"}},[t._v(t._s(e.row.interfacesType))])]}}])}),a("el-table-column",{attrs:{prop:"interfacesAvailable",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.interfacesAvailable||"2"==e.row.interfacesAvailable?a("el-tag",{attrs:{type:"success"}},[t._v("已启用")]):a("el-tag",{attrs:{type:"danger"}},[t._v("未启用")])]}}])}),a("el-table-column",{attrs:{prop:"hostid",label:"最新数据",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.latestData(e.row.hostid)}}},[t._v("最新数据")])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total",total:t.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)],1)])},s=[],r={name:"mon_ser_list",data(){return{groupOptions:[],filterdata:"",filterServer:{name:"",host_group:"",ip:"",port:"",severity:[],available:"2"},serverList:[],serverResource:[],serverPage:1,serverSize:10,total:0,ServerListUrl:"/home/Monitor/mon_ser_list"}},mounted(){this.initGroupList(),this.getServerResource()},methods:{latestData(t){this.$router.replace("/monitor/mon_latest_data?hostid="+t)},filterServerResource(){this.filterdata="",this.serverList=[],this.serverPage=1,""!=this.filterServer.name&&(this.filterdata=this.filterdata+"/name/"+this.filterServer.name),""!=this.filterServer.host_group&&(this.filterdata=this.filterdata+"/host_group/"+this.filterServer.host_group),""!=this.filterServer.ip&&(this.filterdata=this.filterdata+"/ip/"+this.filterServer.ip),""!=this.filterServer.port&&(this.filterdata=this.filterdata+"/port/"+this.filterServer.port),""!=this.filterServer.severity&&(this.filterdata=this.filterdata+"/severity/"+this.filterServer.severity),this.filterdata=this.filterdata+"/available/"+this.filterServer.available,this.getServerResource()},sizeChange(t){this.serverSize=t,this.getServerResource()},currentChange(t){this.serverPage=t,this.getServerResource()},initGroupList(){this.getRequest("/home/Monitor/groupselect").then((t=>{200==t.code?t.data.forEach((t=>{this.groupOptions.push(t)})):this.$message.error(resp.error)}))},getServerResource(){let t=this.ServerListUrl+this.filterdata;this.serverResource.length<=1&&this.getRequest(t).then((t=>{if(t){this.total=t.serNumber,this.serverList=[];let e=[];for(let i=0;i<t.data.length;i++)e[i+1]=t.data[i];let a=this.serverPage*this.serverSize>t.serNumber?t.serNumber:this.serverPage*this.serverSize;for(let t=1==this.serverPage?this.serverPage:this.serverPage*this.serverSize-this.serverSize+1;t<=a;t++)this.serverList.push(e[t]);console.log(t)}}))}}},l=r,o=a(1001),n=(0,o.Z)(l,i,s,!1,null,null,null),c=n.exports}}]);
//# sourceMappingURL=843.7999336c.js.map